Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°:
go run cmd/scraper/main.go


## Ğ¡Ñ…ĞµĞ¼Ğ° Ğ¿Ğ¾Ñ‚Ğ¾ĞºĞ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ³Ğ¾Ñ€ÑƒÑ‚Ğ¸Ğ½ Ğ´Ğ»Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Run.

ğŸ”— Ğ¡Ñ…ĞµĞ¼Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹
```
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚   main Run    â”‚
 â”‚ (Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ°Ñ)    â”‚
 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ğ¼ results chan
        â”‚ ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ğ¼ pool
        â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ WaitGroup.Add(2) â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
 â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Ğ“Ğ¾Ñ€ÑƒÑ‚Ğ¸Ğ½Ğ° #1  â”‚          â”‚ Ğ“Ğ¾Ñ€ÑƒÑ‚Ğ¸Ğ½Ğ° #2             â”‚
 â”‚ (writer)     â”‚          â”‚ (submitter)             â”‚
 â”‚              â”‚          â”‚                         â”‚
 â”‚ for r :=     â”‚          â”‚ for _, u := range urls  â”‚
 â”‚   <-results  â”‚â—„â”€â”€â”€â”     â”‚   pool.Submit(...)      â”‚
 â”‚   SaveResult â”‚    â”‚     â”‚                         â”‚
 â”‚   SavePage   â”‚    â”‚     â”‚ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ²Ğ¾Ñ€ĞºĞµÑ€Ğ°:         â”‚
 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚     â”‚   Fetch â†’ Parse â†’       â”‚
        â”‚            â”‚     â”‚   ÑÑ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ScrapeResult
        â”‚            â”‚     â”‚   results <- râ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚            â”‚     â”‚
        â”‚            â”‚     â”‚ pool.Close()
        â”‚            â”‚     â”‚ close(results)
        â”‚            â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚            â”‚                    â”‚
        â–¼            â–¼                    â”‚
     wg.Done()    wg.Done()               â”‚
        â”‚            â”‚                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                â–¼                  â–¼
              wg.Wait()  â†’  Run Ğ·Ğ°Ğ²ĞµÑ€ÑˆÑ‘Ğ½
```              

### ğŸ“ ĞĞ±ÑŠÑÑĞ½ĞµĞ½Ğ¸Ğµ ÑˆĞ°Ğ³Ğ¾Ğ²

#### Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ (Run):
- ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ urls Ğ¸Ğ· Ğ±Ğ°Ğ·Ñ‹.
- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ pool Ğ¸ ĞºĞ°Ğ½Ğ°Ğ» results.
- Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ 2 Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ² WaitGroup.

#### Ğ“Ğ¾Ñ€ÑƒÑ‚Ğ¸Ğ½Ğ° â„–1 (writer):
- Ğ§Ğ¸Ñ‚Ğ°ĞµÑ‚ Ğ¸Ğ· ĞºĞ°Ğ½Ğ°Ğ»Ğ° results.
- Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ² results Ğ¸ pages Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ Ğ‘Ğ”.
- ĞšĞ¾Ğ³Ğ´Ğ° results Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚ Ğ¸ ĞºĞ°Ğ½Ğ°Ğ» Ğ¿ÑƒÑÑ‚ â†’ Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ¸Ğ· Ñ†Ğ¸ĞºĞ»Ğ° â†’ defer wg.Done() â†’ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾.

#### Ğ“Ğ¾Ñ€ÑƒÑ‚Ğ¸Ğ½Ğ° â„–2 (submitter):
- ĞŸÑ€Ğ¾Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ¿Ğ¾ ÑĞ¿Ğ¸ÑĞºÑƒ urls.
- Ğ”Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ pool.Submit(...).
- Ğ’Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ¿ÑƒĞ»Ğ° Ğ²Ğ¾Ñ€ĞºĞµÑ€Ñ‹ Ğ´ĞµĞ»Ğ°ÑÑ‚:
- Fetch â†’ goquery.Parse â†’ Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒÑÑ‚ ScrapeResult â†’ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑÑ‚ Ğ² results.
- ĞšĞ¾Ğ³Ğ´Ğ° Ğ²ÑĞµ urls Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ñ‹ â†’ pool.Close() (Ğ¶Ğ´Ñ‘Ñ‚ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ Ğ²Ğ¾Ñ€ĞºĞµÑ€Ğ¾Ğ²) â†’ close(results).
- Ğ’Ñ‹Ñ…Ğ¾Ğ´Ğ¸Ñ‚ â†’ defer wg.Done().

Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ Ğ³Ğ¾Ñ€ÑƒÑ‚Ğ¸Ğ½Ğ° (Run) Ğ¶Ğ´Ñ‘Ñ‚ Ñ‡ĞµÑ€ĞµĞ· wg.Wait(), Ğ¿Ğ¾ĞºĞ° Ğ¾Ğ±Ğµ Ğ·Ğ°ĞºĞ¾Ğ½Ñ‡Ğ°Ñ‚.

#### âœ… ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚Ñ‹
- defer wg.Done() â†’ Ğ² Ğ½Ğ°Ñ‡Ğ°Ğ»Ğµ Ğ¾Ğ±ĞµĞ¸Ñ… Ğ³Ğ¾Ñ€ÑƒÑ‚Ğ¸Ğ½ (writer + submitter).
- Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ ĞºĞ°Ğ½Ğ°Ğ»Ğ° results â†’ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾ÑĞ»Ğµ Ñ‚Ğ¾Ğ³Ğ¾, ĞºĞ°Ğº submitter Ğ·Ğ°ĞºĞ¾Ğ½Ñ‡Ğ¸Ğ» Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ‚ÑŒ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ¸ Ğ´Ğ¾Ğ¶Ğ´Ğ°Ğ»ÑÑ Ğ¿ÑƒĞ»Ğ° (pool.Close()).
- writer Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ°ĞµÑ‚ÑÑ, ĞºĞ¾Ğ³Ğ´Ğ° results Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚ Ğ¸ ĞºĞ°Ğ½Ğ°Ğ» Ğ¿ÑƒÑÑ‚.