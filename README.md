Запуск проекта:
go run cmd/scraper/main.go


## Схема потока данных и работы горутин для функции Run.

🔗 Схема работы
```
 ┌───────────────┐
 │   main Run    │
 │ (основная)    │
 └──────┬────────┘
        │
        │ создаём results chan
        │ создаём pool
        │
   ┌────▼─────────────┐
   │ WaitGroup.Add(2) │
   └────┬─────────────┘
        │
 ┌──────▼───────┐          ┌─────────────────────────┐
 │ Горутина #1  │          │ Горутина #2             │
 │ (writer)     │          │ (submitter)             │
 │              │          │                         │
 │ for r :=     │          │ for _, u := range urls  │
 │   <-results  │◄───┐     │   pool.Submit(...)      │
 │   SaveResult │    │     │                         │
 │   SavePage   │    │     │ внутри воркера:         │
 └──────┬───────┘    │     │   Fetch → Parse →       │
        │            │     │   сформировать ScrapeResult
        │            │     │   results <- r──────────┘
        │            │     │
        │            │     │ pool.Close()
        │            │     │ close(results)
        │            │     └──────────────┐
        │            │                    │
        ▼            ▼                    │
     wg.Done()    wg.Done()               │
        │            │                    │
        └───────┬────┴─────────────┬─────┘
                ▼                  ▼
              wg.Wait()  →  Run завершён
```              

### 📝 Объяснение шагов

#### Главная функция (Run):
- Получает urls из базы.
- Создаёт pool и канал results.
- Добавляет 2 задачи в WaitGroup.

#### Горутина №1 (writer):
- Читает из канала results.
- Сохраняет данные в results и pages таблицы БД.
- Когда results закрыт и канал пуст → выходит из цикла → defer wg.Done() → готово.

#### Горутина №2 (submitter):
- Проходит по списку urls.
- Для каждого вызывает pool.Submit(...).
- Внутри пула воркеры делают:
- Fetch → goquery.Parse → формируют ScrapeResult → отправляют в results.
- Когда все urls отправлены → pool.Close() (ждёт завершения воркеров) → close(results).
- Выходит → defer wg.Done().

Главная горутина (Run) ждёт через wg.Wait(), пока обе закончат.

#### ✅ Ключевые моменты
- defer wg.Done() → в начале обеих горутин (writer + submitter).
- Закрытие канала results → только после того, как submitter закончил отправлять задачи и дождался пула (pool.Close()).
- writer завершается, когда results закрыт и канал пуст.